<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Admin Dashboard</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      margin: 0;
      display: flex;
    }
    .sidebar {
      width: 200px;
      background-color: #333;
      color: white;
      height: auto;
      display: flex;
      flex-direction: column;
    }
    .sidebar button {
      background: none;
      border: none;
      color: white;
      padding: 15px;
      text-align: left;
      cursor: pointer;
      width: 100%;
    }
    .sidebar button:hover {
      background-color: #555;
    }
    .content {
      padding: 20px;
      flex-grow: 1;
    }
    .hidden {
      display: none;
    }
    .actions {
      margin: 10px 0;
    }
    .actions button {
      margin-right: 10px;
    }
    table {
      width: 100%;
      border-collapse: collapse;
    }
    table, th, td {
      border: 1px solid #ddd;
    }
    th, td {
      padding: 10px;
      text-align: left;
    }
    .row-actions button {
      margin-right: 5px;
    }
    .pagination {
      margin-top: 10px;
    }
    .pagination button {
      margin: 2px;
    }
  </style>
</head>
<body>
  <div class="sidebar">
    <button onclick="showSection('dashboard')">Trang tổng quan</button>
    <button onclick="showSection('customers')">Khách hàng</button>
    <button onclick="showSection('products')">Sản phẩm</button>
  </div>

  <div class="content">
    <div id="dashboard">
      <h1>Trang tổng quan</h1>
      <p>Thông tin tổng quan sẽ hiển thị ở đây.</p>
    </div>

    <div id="customers" class="hidden">
      <h1>Khách hàng</h1>
      <input type="text" id="searchCustomer" placeholder="Tìm kiếm khách hàng..." />
      <input type="date" id="filterDate" placeholder="Lọc theo ngày tham gia" />
      <div class="actions">
        <button>Thêm</button>
      </div>
      <table>
        <thead>
          <tr>
            <th>Tên</th>
            <th>Email</th>
            <th>Ngày tham gia</th>
            <th>Hành động</th>
          </tr>
        </thead>
        <tbody id="customerTableBody">
          <!-- Dữ liệu khách hàng sẽ được chèn ở đây -->
        </tbody>
      </table>
      <div class="pagination" id="customerPagination"></div>
    </div>

    <div id="products" class="hidden">
      <h1>Sản phẩm (Phim)</h1>
      <input type="text" id="searchMovie" placeholder="Tìm kiếm phim..." />
      <select id="filterYear">
        <option>Lọc theo năm</option>
        <option>2025</option>
        <option>2024</option>
      </select>
      <select id="filterGenre">
        <option>Lọc theo thể loại</option>
        <option>Hành động</option>
        <option>Hài</option>
      </select>
      <div class="actions">
        <button>Thêm</button>
      </div>
      <table>
        <thead>
          <tr>
            <th>Tên phim</th>
            <th>Năm</th>
            <th>Thể loại</th>
            <th>Hành động</th>
          </tr>
        </thead>
        <tbody id="productTableBody">
          <!-- Dữ liệu phim sẽ được chèn ở đây -->
        </tbody>
      </table>
      <div class="pagination" id="productPagination"></div>
    </div>
  </div>

  <script>
    function showSection(sectionId) {
      const sections = ['dashboard', 'customers', 'products'];
      sections.forEach(id => {
        document.getElementById(id).classList.add('hidden');
      });
      document.getElementById(sectionId).classList.remove('hidden');
    }

    // Dữ liệu mẫu
    const customers = Array.from({ length: 50 }, (_, i) => ({
      name: `Khách hàng ${i + 1}`,
      email: `user${i + 1}@example.com`,
      date: `2025-04-${(i % 30 + 1).toString().padStart(2, '0')}`
    }));

    const products = Array.from({ length: 50 }, (_, i) => ({
      name: `Phim ${i + 1}`,
      year: i % 2 === 0 ? '2025' : '2024',
      genre: i % 3 === 0 ? 'Hành động' : 'Hài'
    }));

    function renderTable(data, tableId, page, pageSize, rowTemplate) {
      const tbody = document.getElementById(tableId);
      tbody.innerHTML = '';
      const start = (page - 1) * pageSize;
      const pageData = data.slice(start, start + pageSize);
      pageData.forEach(row => {
        const tr = document.createElement('tr');
        tr.innerHTML = rowTemplate(row);
        tbody.appendChild(tr);
      });
    }

    function renderPagination(data, paginationId, tableId, pageSize, rowTemplate) {
      const pagination = document.getElementById(paginationId);
      pagination.innerHTML = '';
      const totalPages = Math.ceil(data.length / pageSize);
      for (let i = 1; i <= totalPages; i++) {
        const btn = document.createElement('button');
        btn.innerText = i;
        btn.onclick = () => renderTable(data, tableId, i, pageSize, rowTemplate);
        pagination.appendChild(btn);
      }
    }

    const customerTemplate = (c) => `
      <td>${c.name}</td>
      <td>${c.email}</td>
      <td>${c.date}</td>
      <td class="row-actions"><button>Xóa</button></td>
    `;

    const productTemplate = (p) => `
      <td>${p.name}</td>
      <td>${p.year}</td>
      <td>${p.genre}</td>
      <td class="row-actions">
        <button>Sửa</button>
        <button>Xóa</button>
      </td>
    `;

    // Khởi tạo dữ liệu mặc định
    const pageSize = 10;
    renderTable(customers, 'customerTableBody', 1, pageSize, customerTemplate);
    renderPagination(customers, 'customerPagination', 'customerTableBody', pageSize, customerTemplate);

    renderTable(products, 'productTableBody', 1, pageSize, productTemplate);
    renderPagination(products, 'productPagination', 'productTableBody', pageSize, productTemplate);
  </script>
</body>
</html>
